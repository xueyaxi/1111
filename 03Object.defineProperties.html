<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object.defineProperties</title>
</head>
<body>
    <script>
        //
        //Object.defineProperties 为班级添加成绩总数与平均数
        var banji = {
            name: 'H5200422',
            scores:[
                100,50,63,89,76,
            ]
        };
        //创建属性  
        // banji.slogon = "向上吧 少年!!";
        //通过 Object.defineProperties
// Object.defineProperties(要设置属性的对象, 描述属性的对象)

// 直接在一个对象上定义新的属性或修改现有属性，并返回该对象。

// * object     要操作的对象
// * descriptors     属性描述
//   * get  作为该属性的 getter 函数，如果没有 getter 则为undefined。函数返回值将被用作属性的值。
//   * set  作为属性的 setter 函数，如果没有 setter 则为undefined。函数将仅接受参数赋值给该属性的新值。


        // Object.defineProperties(banji, {
        //     //添加总成绩
        //     total: {
        //         value: 378,
        //         writable:true,
        //         configurable: true,
        //         enumerable: true
        //     },
        //     //添加平均成绩
        //     avg: {
        //         get: function(){
        //             //计算当前班级的平均成绩, 并返回
        //             // this 指向的是当前正在操作的对象
        //             var total = 0;
        //             this.scores.forEach(function(item){
        //                 total += item;
        //             });
        //             //计算平均数
        //             var avg = total / this.scores.length;
        //             return avg;
        //         }
        //     }
        // });

        Object.defineProperties(banji, {
            //添加总成绩
            total: {
                value: 378,
                writable:true,
                configurable: true,
                enumerable: true
            },
            //添加平均成绩
            avg: {
                get: function(){
                    //计算当前班级的平均成绩, 并返回
                    // this 指向的是当前正在操作的对象
                    var total = 0;
                    this.scores.forEach(function(item){
                        total += item;
                    });
                    //计算平均数
                    var avg = total / this.scores.length;
                    return avg;
                }
            }
        });

        //获取班级的总成绩
        console.log(banji.total);
        //获取班级的平均成绩
        console.log(banji.avg);
    </script>
</body>
</html>